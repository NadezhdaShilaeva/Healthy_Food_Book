# Cooking Book
###### Проект по web-программированию
### Рецепты здоровых и полезных блюд - *HealthyFoodBook*

**Render:** https://cooking-book.onrender.com

## Описание

Проект реализует web-сайт, который содержит **рецепты** простых в приготовлении, вкусных, здоровых и полезных блюд с пошаговым описанием процесса их приготовления и изображениями готовых блюд.

* Приложение развернуто в сервисе облачного хостинга ***Render*** и доступно по ссылке https://cooking-book.onrender.com;
* Для хранения данных использована ***БД Postgres***, предоставляемая сервисом ***Render.com***.
* Backend написан на ***Node.js*** с использованием фреймворка ***Nest.js***.
* Клиентская часть написана на чистом ***JavaScript***, ***CSS*** и ***HTML***.
* Для реализации селектора была использована подключаемая JS библиотека ***"selectize.js"***.
* На странице "Поделиться рецептом" осуществлено создание разметки во время выполнения (in runtime) с возможностью сохранения и загрузки введенных пользователем параметров в локальное хранилище браузера пользователя (***LocalStorage***).
* Создание http-запросов и корректная обработка ответов реализована с помощью ***Fetch API***.

### Описание сущностей:

* **User** - пользователь, зарегистрированный в системе. Имеет имя, электронную почту, пароль. Может содержать одну из трех ролей:
  * ***Admin*** (Администратор) - может создавать пользователей с ролью модератора;
  * ***Moderator*** (Модератор) - может проверять новые рецепты пользователей на корректность;
  * ***Guest*** (Аутентифицированный пользователь) - имеет свой аккаунт в системе и может создавать и сохранять (добавлять в избранное) рецепты;
* **Recipe** - рецепт блюда. Имеет атрибуты:
  * название, 
  * категорию (одну из возможных: *Закуски, Салаты, супы, Рыбные блюда, Мясные блюда, Гарниры, Десерты, Напитки, Детское меню*), 
  * время приготовления (в часах и минутах), 
  * количество порций готового блюда, 
  * список ингредиентов (**_Ingredient_**),
  * список шагов (_**CookingStep**_) в инструкции по приготовлению,
  * автора рецепта (пользователь, создавший данный рецепт),
  * фото готового блюда (**_Image_**),
  * состояние (одно из возможных: 
    * _created_ - рецепт создан, но еще не прошел модерацию,
    * _approved_ - рецепт утвержден модератором),
  * количество лайков (добавлений в избранное зарегистрированными пользователями);
* **Ingredient** - описание одного ингредиента, участвующего в приготовлении блюда. Имеет атрибуты:
  * название
  * количество, необходимое для приготовления блюда,
  * единицу измерения (одну из возможных: _г (грамм), кг (килограмм), л (литр), мл (милилитр), ч. л. (чайная ложка), ст. л. (столовая ложка), шт (штука), стак. (стакан)_);
* **CookingStep** - один шаг в инструкции по приготовлению блюда. Имеет атрибуты:
  * номер шага в инструкции,
  * описание шага приготовления;
* **Image** - изображение готового блюда. Имеет атрибуты:
  * путь до файла, в которм записано данное изображение,
  * описание изображения.

### Описание функционала:

На **главной странице** пользователь может:
* Просматривать ***каталог рецептов***, изначально отсортированный по популярности рецептов (количеству лайков).
* Просматривать рецепты из определенной ***категории*** с помощью выбора соответсвующей категории в бургер-меню.
* Искать рецепт по ***названию*** с помощью поисковой строки.
* Просматривать рецепты с заданными параметрами по ***Категории***, ***Ингредиентам*** и ***Времени приготовления***.
* Запросить больше релевантных рецептов по нажатию кнопки ***Показать больше***.
* Добавлять рецепт в ***Избранное*** с помощью лайка в его правом нижнем углу.
* Просматривать ***полезные мини-советы***.
* Запросить больше мини-советов по нажатию кнопки ***Показать больше***.
* Просматривать таблицу калорийности основных продуктов.
* Перейти в мои социальные сети ***"Telegram", "VK", "WhatsApp"*** для связи.
* Просматривать время загрузки страницы в ее *footer'е*.

На странице **"Мои любимые рецепты"** пользователь может:
* Просматривать свои рецепты, добавленные в избранное.
* Искать среди сохраненных рецептов рецепт по ***названию*** с помощью поисковой строки.
* Фильтровать свои сохраненные рецепты по ***категории***.
* Удалять рецепт из избранных с помощью второго нажатия лайка в правом нижнем углу рецепта.
* Запросить больше сохраненных рецептов по нажатию кнопки ***Показать больше***.

На странице **"Поделиться рецептом"** пользователь может:
* Задать ***параметры*** своего нового рецепта:
    * Загрузить ***фото*** рецета
    * Указать ***название*** рецепта
    * Указать ***время***, необходимое для приготовления
    * Указать ***количество порций***
    * Выбрать ***категорию*** блюда из предложенных
    * Добавить необходимые **ингредиенты** для приготовления, указав для каждого ***Название, Количество, Единицы измерения***
    * Заполнить ***инструкцию приготовления***, описав каждый шаг в соответствующем поле.
* ***Отправить*** созданный рецепт на модерацию.
* ***Схранить*** заплоненные параметры рецепта в *local storage* своего браузера.
* ***Очистить*** все заполненные поля.

На странице **"Войти"** пользователь может:
* Указать свои ***данные для авторизации***:
    * имя пользователя
    * электронную почту
    * пароль.
* ***Авторизоваться*** в системе. 
* Заполнить свои ***данные для регистрации***:
    * имя пользователя
    * электронную почту
    * пароль.
* ***Зарегистриоваться*** в системе.


## Установка

```bash
$ npm install
```

## Запуск приложения

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Тестирование

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```


## Автор

**ФИО:** Шиляева Надежда Сергеевна  
**Группа:** М33031  
